// 1번 토너먼트
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

int main(void)
{
     int n;
     int i,j;
     int x[100];
     int f = 1;
     
     scanf("%d",&n);
     
     for(i=0;i<n;i++){
        scanf("%d",&x[i]);
        if(x[i] < 0 || x[i] > 100)
            f = 0;
     }
 
     if(f == 0)
        printf("ERROR");
    
    else{
        while(n>1){
            for(i=0;i<n/2;i++)
                x[i] = x[i*2]>x[i*2+1] ? x[i*2] : x[i*2+1];
            
            if(n%2==1)
                x[n/2]=x[n-1];
                
            n = (n+1)/2;
            
            for(i=0;i<n;i++)
                printf("%d ",x[i]);
                
            if(n==1)
                break;
                
            printf("\n");
        } 
    }
    
    return 0;
}
